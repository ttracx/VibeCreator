import{r as x,B as y,aW as k,c as m,o,n as w,h as $,a as t,b as u,u as h,Z as b,w as s,F as f,e as V,g as v,d as i,t as g,ce as C,f as p,N as L}from"./app-Bmr4PHMT.js";import{_ as N}from"./PageHeader-BqyuA5fp.js";import{_ as T}from"./Panel-B1uH97s0.js";import{_ as B,T as D}from"./Tab-BdeB5PPy.js";import{_ as I}from"./Alert-DSMQfzJS.js";import{_ as S}from"./PrimaryButton-D4JjRc0A.js";import{_ as A}from"./DangerButton-DSZl10eC.js";import{_ as F}from"./NoResult-CLR1IQem.js";const q=["value"],z={__name:"Textarea",props:["modelValue","error"],emits:["update:modelValue"],setup(r){const l=x(null);return y(()=>{l.value.hasAttribute("autofocus")&&k(()=>{l.value.focus()})}),(n,e)=>(o(),m("textarea",{value:r.modelValue,onInput:e[0]||(e[0]=_=>n.$emit("update:modelValue",_.target.value)),ref_key:"textarea",ref:l,class:w([{"border-stone-600":!r.error,"border-red-600":r.error},"w-full rounded-md focus:border-indigo-200 focus:ring-3 focus:ring-indigo-200/50 outline-hidden transition-colors ease-in-out duration-200"])},null,42,q))}},E={class:"w-full mx-auto row-py"},M={class:"w-full row-px"},W={class:"mt-lg row-px w-full"},Z={class:"mt-md"},j=["href"],X={__name:"Logs",props:{logs:{required:!0,type:Array}},setup(r){const l=r,n=x(null);y(()=>{l.logs.length&&(n.value=l.logs[0].name)});const e=$(()=>{const d=l.logs.find(a=>a.name===n.value);return d||!1}),_=()=>{L.delete(route("mixpost.system.logs.clear"),{data:{filename:e.value.name}})};return(d,a)=>(o(),m(f,null,[t(h(b),{title:"System Logs"}),u("div",E,[t(N,{title:"System Logs"}),u("div",M,[t(D,null,{default:s(()=>[(o(!0),m(f,null,V(r.logs,c=>(o(),v(B,{key:c.name,onClick:G=>n.value=c.name,active:n.value===c.name},{icon:s(()=>[t(C)]),default:s(()=>[i(" "+g(c.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),u("div",W,[t(T,{class:"mt-lg"},{default:s(()=>[r.logs.length?(o(),m(f,{key:0},[e.value?(o(),m(f,{key:0},[e.value.error?(o(),v(I,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:s(()=>[i(g(e.value.error),1)]),_:1})):p("",!0),t(z,{value:e.value.contents,class:"h-96",readonly:""},null,8,["value"])],64)):p("",!0),u("div",Z,[u("a",{href:d.route("mixpost.system.logs.download",{filename:e.value.name}),target:"_blank"},[t(S,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:s(()=>a[0]||(a[0]=[i("Download")])),_:1,__:[0]})],8,j),t(A,{onClick:_},{default:s(()=>a[1]||(a[1]=[i("Clean up")])),_:1,__:[1]})])],64)):(o(),v(F,{key:1},{default:s(()=>a[2]||(a[2]=[i(" There are no logs. ")])),_:1,__:[2]}))]),_:1})])])],64))}};export{X as default};
